apiVersion: backstage.io/v1alpha1
kind: Component
metadata:
  name: rds-app-app
  # title: Wayfinder Application
  description: Application created from the backstage software template
  labels: {}
  annotations:
    backstage.io/source-location: url:https://github.com/appvia-demos/rds-app
    github.com/project-slug: appvia-demos/rds-app
    sonarqube.org/project-key: appvia-demos_rds-app
    backstage.io/techdocs-ref: url:https://github.com/appvia-demos/rds-app/tree/main
    jfrog-artifactory/image-name: docker-trial/rds-app
    wayfinder/workspace: demo    
    wayfinder/app-name: rds-app
    wayfinder/app-component-name: rds-app-app
  tags:
    - wayfinder
  links:
    - url: https://github.com/appvia-demos/rds-app
      title: GitHub Repository
      type: Code
      icon: github
    - url: https://github.com/appvia-demos/rds-app/actions
      title: GitHub Actions
      type: CI/CD
      icon: github
    - url: https://github.com/appvia-demos/rds-app/releases
      title: Releases
      type: Release
      icon: github
    - url: https://sonarcloud.io/project/overview?id=appvia-demos_rds-app
      title: SonarCloud Quality Gate
      type: Quality
      icon: sonarcloud
    - url: https://portal.backstage.prod.wf.appvia.io/catalog/default/component/rds-app-app
      title: Production Backstage
      type: Backstage
      icon: backstage
    - url: https://trialm6kl97.jfrog.io/ui/repos/tree/General/docker-trial/rds-app
      title: JFrog Artifactory
      type: Docker Registry
      icon: artifactory
spec:
  type: service
  owner: user:default/ssun3
  lifecycle: experimental
  dependsOn:
    - resource:default/rds-app-mysql
  providesApis:
    - rds-app-api
---
apiVersion: backstage.io/v1alpha1
kind: Resource
metadata:
  name: rds-app-mysql
  # title: Wayfinder Application DB
  description: AWS RDS MySQL Database used by the Wayfinder Application
  labels: {}
  annotations:
    backstage.io/source-location: url:https://github.com/appvia-demos/rds-app
    github.com/project-slug: appvia-demos/rds-app
    sonarqube.org/project-key: appvia-demos_rds-app
    backstage.io/techdocs-ref: url:https://github.com/appvia-demos/rds-app/tree/main
    wayfinder/workspace: demo
    wayfinder/app-name: rds-app
    wayfinder/app-component-name: rds-app-mysql
  tags:
    - wayfinder
  links:
    - url: https://github.com/appvia-demos/rds-app
      title: GitHub Repository
      type: Code
      icon: github
spec:
  type: database
  owner: user:default/ssun3
  lifecycle: experimental
---
apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: rds-app-api
  description: REST API for the rds-app todo application with RDS database
  labels: {}
  annotations:
    backstage.io/source-location: url:https://github.com/appvia-demos/rds-app
    github.com/project-slug: appvia-demos/rds-app
    backstage.io/techdocs-ref: url:https://github.com/appvia-demos/rds-app/tree/main
    wayfinder/workspace: demo
    wayfinder/app-name: rds-app
  tags:
    - wayfinder
    - rest
    - todo
    - rds
  links:
    - url: https://github.com/appvia-demos/rds-app
      title: GitHub Repository
      type: Code
      icon: github
    - url: https://github.com/appvia-demos/rds-app/blob/main/app/openapi.yaml
      title: OpenAPI Specification
      type: API Spec
      icon: openapi
spec:
  type: openapi
  lifecycle: experimental
  owner: user:default/ssun3
  definition:
    $text: ./app/openapi.yaml